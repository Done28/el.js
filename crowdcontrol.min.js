(function(t){function e(t,n){if({}.hasOwnProperty.call(e.cache,t))return e.cache[t];if("function"==typeof n)return void e.load(t,n);var r=e.resolve(t);if(!r)throw new Error("Failed to resolve module "+t);var o={id:t,require:e,filename:t,exports:{},loaded:!1,parent:null,children:[]},i=t.slice(0,t.lastIndexOf("/")+1);return e.cache[t]=o.exports,r.call(o.exports,o,o.exports,i,t),o.loaded=!0,e.cache[t]=o.exports}var n={title:"browser",browser:!0,env:{},argv:[],nextTick:function(t){setTimeout(t,0)},cwd:function(){return"/"},chdir:function(){}};e.modules={},e.cache={},e.resolve=function(t){return{}.hasOwnProperty.call(e.modules,t)?e.modules[t]:void 0},e.define=function(t,n){e.modules[t]=n},e.define("./config",function(t,e,n,r){t.exports={}}),e.define("./utils",function(t,n,r,o){t.exports={shim:e("./utils/shim"),log:e("./utils/log"),mediator:e("./utils/mediator")}}),e.define("./utils/shim",function(t,n,r,o){Function.prototype.property=function(t,e){return Object.defineProperty(this.prototype,t,e)},t.exports={observable:function(t){return this.riot.observable(t)},requestAnimationFrame:e("raf"),riot:"undefined"!=typeof window&&null!==window&&null!=window.riot?window.riot:void 0}}),e.define("raf",function(t,n,r,o){for(var i=e("performance-now/lib/performance-now"),u="undefined"==typeof window?{}:window,s=["moz","webkit"],a="AnimationFrame",c=u["request"+a],l=u["cancel"+a]||u["cancelRequest"+a],f=0;f<s.length&&!c;f++)c=u[s[f]+"Request"+a],l=u[s[f]+"Cancel"+a]||u[s[f]+"CancelRequest"+a];if(!c||!l){var p=0,h=0,d=[],m=1e3/60;c=function(t){if(0===d.length){var e=i(),n=Math.max(0,m-(e-p));p=n+e,setTimeout(function(){var t=d.slice(0);d.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(p)}catch(n){setTimeout(function(){throw n},0)}},Math.round(n))}return d.push({handle:++h,callback:t,cancelled:!1}),h},l=function(t){for(var e=0;e<d.length;e++)d[e].handle===t&&(d[e].cancelled=!0)}}t.exports=function(t){return c.call(u,t)},t.exports.cancel=function(){l.apply(u,arguments)}}),e.define("performance-now/lib/performance-now",function(t,e,r,o){(function(){var e,r,o;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof n&&null!==n&&n.hrtime?(t.exports=function(){return(e()-o)/1e6},r=n.hrtime,e=function(){var t;return t=r(),1e9*t[0]+t[1]},o=e()):Date.now?(t.exports=function(){return Date.now()-o},o=Date.now()):(t.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}),e.define("./utils/log",function(t,e,n,r){var o;o=function(){return o.DEBUG?console.log.apply(console,arguments):void 0},o.DEBUG=!1,o.debug=o,o.info=function(){return console.log.apply(console,arguments)},o.warn=function(){return console.log("WARN:"),console.log.apply(console,arguments)},o.error=function(){throw console.log("ERROR:"),console.log.apply(console,arguments),new arguments[0]},t.exports=o}),e.define("./utils/mediator",function(t,n,r,o){var i,u;u=e("./utils/shim").riot,i={},u.observable(i),t.exports=i}),e.define("./view",function(t,n,r,o){t.exports={form:e("./view/form"),View:e("./view/view")}}),e.define("./view/form",function(t,n,r,o){var i,u,s,a,c,l,f,p,h,d,m,v,y,g,b,w,j,x,_,E=function(t,e){function n(){this.constructor=t}for(var r in e)O.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},O={}.hasOwnProperty;m=e("is-array"),v=e("is-function"),y=e("is-number"),g=e("is-object"),i=e("./events"),f=e("broken/lib"),b=_.log,w=_.shim.riot,_=e("./utils"),h=e("./view/view"),j=function(t){var e,n,r,o,i,u,s,a;for(s=t.split(" "),e={},n=0,o=s.length;o>n;n++)u=s[n],u.indexOf(":")>=0?(i=u.split(":"),r=i[0],a=i[1],e[r]=a):e[u]=!0;return e},c=function(){function t(t,e,n,r){this.name=t,this["default"]=null!=e?e:"",this.placeholder=null!=n?n:"",null==r&&(r=""),this.hints=j(r)}return t.prototype.name="",t.prototype["default"]="",t.prototype.placeholder="",t.prototype.hints=null,t}(),s=function(){function t(t,e,n){this.tag=t,this.model=e,this.validator=n}return t.prototype.tag="",t.prototype.model={},t.prototype.validator=function(){},t.prototype.obs=null,t}(),p=function(){function t(t,e){this.predicate=t,this.validatorFn=e}return t}(),a=function(){function t(t,e){this.predicate=t,this.tagName=e}return t}(),d={tagLookup:[],validatorLookup:[],defaultTagName:"form-input",errorTag:"form-error",registerValidator:function(t,e){return v(e)?this.validatorLookup.push(new p(t,e)):void 0},registerTag:function(t,e){return this.tagLookup.push(new a(t,e))},deleteTag:function(t){var e,n,r,o,i,u;for(i=this.tagLookup,u=[],e=n=0,r=i.length;r>n;e=++n)o=i[e],o.tagName===t?u.push(this.tagLookup[e]=null):u.push(void 0);return u},deleteValidator:function(t,e){var n,r,o,i,u,s;for(u=this.validatorLookup,s=[],n=r=0,o=u.length;o>r;n=++r)i=u[n],i.validatorFn===e?s.push(this.validatorLookup[n]=null):s.push(void 0);return s},render:function(t){var e,n,r,o,i,u,a;for(o={},e=function(t){return function(e,n){var r,i,u,a,c,l,p,h,d,m,v,y;for(h=t.validatorLookup,i=0,u=h.length;u>i;i++)c=h[i],c.predicate(n)&&(y=c.validatorFn,function(t){return e.push(function(e){var r,o,i;return r=e[0],o=e[1],i=new f(function(t,n){return t(e)}),i.then(function(e){return t.call(n,e[0],e[1])}).then(function(t){return r[o]=t,new f(function(t,n){return t(e)})})})}(y));for(e.push(function(t){var e,n;return e=t[0],n=t[1],new f(function(t,r){return t(e[n])})}),v=function(t,n){var r,o,i;for(i=new f(function(e,r){return e([t,n])}),o=0,r=e.length;r>o;o++)y=e[o],i=i.then(y);return i},r=!1,d=t.tagLookup,l=0,a=d.length;a>l;l++)if(c=d[l],null!=c&&c.predicate(n)){m=c.tagName,r=!0;break}return r||(m=t.defaultTagName),p={name:n.name,value:n["default"],placeholder:n.placeholder,cfg:n},o[n.name]=new s(m,p,v)}}(this),n=i=0,u=t.length;u>i;n=++i)r=t[n],null!=r&&(a=[],e(a,r));return o}},i.Input={Result:"input-result",Get:"input-get",Set:"input-set",Change:"input-change",Error:"input-error",ClearError:"input-clear-error"},l=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}var n;return E(e,t),e.prototype.getValue=function(t){return t.value},e.prototype.errorHtml='<div class="error-container" if="{ hasError() }">\n  <div class="error-message">{ error }</div>\n</div>',e.prototype.init=function(){return this.html+=this.errorHtml},e.prototype.events=(n={},n[""+i.Input.Set]=function(){return this._set.apply(this,arguments)},n[""+i.Input.Error]=function(){return this._error.apply(this,arguments)},n[""+i.Input.ClearError]=function(){return this._clearError.apply(this,arguments)},n),e.prototype._clearError=function(t){return t===this.model.name?(this.clearError(),this.update()):void 0},e.prototype._error=function(t,e){return t===this.model.name?(this.setError(e),this.update()):void 0},e.prototype._set=function(t,e){return t===this.model.name?(this.clearError(),this.model.value=e,this.update()):void 0},e.prototype.change=function(t){var e;return e=this.getValue(t.target),(""===e||e!==this.model.value)&&this.obs.trigger(i.Input.Change,this.model.name,e),this.model.value=e},e.prototype.hasError=function(){var t;return t=this.error,null!=t&&null!=t.length&&t.length>0},e.prototype.setError=function(t){return this.error=t},e.prototype.clearError=function(){return this.setError(null)},e.prototype.js=function(t){return this.model=t.input.model},e}(h),w.tag("control","",function(t){var e;return e=t.input,null!=e?(t.obs=e.obs,w.mount(this.root,e.tag,t)):void 0}),i.Form={SubmitSuccess:"form-submit-success",SubmitFailed:"form-submit-failed"},u=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}var n;return E(e,t),e.prototype.inputConfigs=null,e.prototype.events=(n={},n[""+i.Input.Get]=function(){return this._result.apply(this,arguments)},n[""+i.Input.Change]=function(){return this._change.apply(this,arguments)},n),e.prototype._change=function(t,e){var n,r,o,u;return this.fullyValidated=!1,u=this._set(this.model,t,e),o=u[0],r=u[1],n=this.inputs[t],null!=n?n.validator(o,r).then(function(e){return function(n){return e.obs.trigger(i.Input.Set,t,n)}}(this))["catch"](function(e){return function(n){return b("Validation error has occured",n.stack),e.obs.trigger(i.Input.Error,t,n.message)}}(this)):void 0},e.prototype._result=function(t){return this.obs.trigger(i.Input.Result,this._get(this.model,t))},e.prototype._submit=function(t){},e.prototype.submit=function(t){var e,n,r,o,u,s,a,c;if(null!=t&&t.preventDefault(),this.fullyValidated)return void this._submit(t);u=[],s=[],a=this.inputs;for(o in a)e=a[o],u.push(o),c=this._find(this.model,o),r=c[0],n=c[1],s.push(e.validator(r,n));return promise.settle(s).then(function(e){return function(n){var r,o,s,a,c;for(a=!1,r=o=0,s=n.length;s>o;r=++o)c=n[r],c.isRejected()&&(a=!0,e.obs.trigger(i.Input.Error,u[r],c.reason().message));return a?void e.obs.trigger(i.Form.SubmitFailed,e.model):(e.fullyValidated=!0,e.obs.trigger(i.Form.SubmitSuccess,e.model),e._submit(t))}}(this))},e.prototype._get=function(t,e){var n,r,o,i,u;if(u=e.split("."),1===u.length)return t[e];for(n=t,r=0,o=u.length;o>r;r++){if(i=u[r],null==n[i])return;n=n[i]}return n[lastName]},e.prototype._set=function(t,e,n){var r,o,i;return i=this._find(t,e),r=i[0],o=i[1],r[o]=n,[r,o]},e.prototype._find=function(t,e){var n,r,o,i,u,s;if(s=e.split("."),1===s.length)return[t,e];for(o=s.pop(),n=t,r=0,i=s.length;i>r;r++)u=s[r],null==n[u]?(y(u)?n[u]=[]:n[u]={},n=n[u]):n=n[u];return[n,o]},e.prototype.js=function(){return this.initFormGroup()},e.prototype.initFormGroup=function(){var t,e,n;if(null!=this.inputConfigs){null==this.inputs?this.inputs=e=d.render(this.inputConfigs):e=this.inputs;for(n in e)t=e[n],t.obs=this.obs;return this.fullyValidated=!1,x(this.model,function(t,n){return null!=e[t]?e[t].model.value=n:void 0})}},e}(h),x=function(t,e,n){var r,o,i;if(null==n&&(n=""),m(t)||g(t)){o=[];for(r in t)i=t[r],o.push(x(i,e,""===n?r:n+"."+r));return o}return e(n,t)},t.exports={helpers:d,FormView:u,InputView:l,Input:s,InputConfig:c,tokenize:j}}),e.define("is-array",function(t,e,n,r){var o=Array.isArray,i=Object.prototype.toString;t.exports=o||function(t){return!!t&&"[object Array]"==i.call(t)}}),e.define("is-function",function(t,e,n,r){function o(t){var e=i.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}t.exports=o;var i=Object.prototype.toString}),e.define("is-number",function(t,n,r,o){"use strict";var i=e("kind-of");t.exports=function(t){var e=i(t);if("number"!==e&&"string"!==e)return!1;var n=+t;return n-n+1>=0&&""!==t}}),e.define("kind-of",function(t,n,r,o){var i=e("is-buffer"),u=Object.prototype.toString;t.exports=function(t){if("undefined"==typeof t)return"undefined";if(null===t)return"null";if(t===!0||t===!1||t instanceof Boolean)return"boolean";if("string"==typeof t||t instanceof String)return"string";if("number"==typeof t||t instanceof Number)return"number";if("function"==typeof t||t instanceof Function)return"function";if("undefined"!=typeof Array.isArray&&Array.isArray(t))return"array";if(t instanceof RegExp)return"regexp";if(t instanceof Date)return"date";var e=u.call(t);return"[object RegExp]"===e?"regexp":"[object Date]"===e?"date":"[object Arguments]"===e?"arguments":"undefined"!=typeof Buffer&&i(t)?"buffer":"[object Set]"===e?"set":"[object WeakSet]"===e?"weakset":"[object Map]"===e?"map":"[object WeakMap]"===e?"weakmap":"[object Symbol]"===e?"symbol":"[object Int8Array]"===e?"int8array":"[object Uint8Array]"===e?"uint8array":"[object Uint8ClampedArray]"===e?"uint8clampedarray":"[object Int16Array]"===e?"int16array":"[object Uint16Array]"===e?"uint16array":"[object Int32Array]"===e?"int32array":"[object Uint32Array]"===e?"uint32array":"[object Float32Array]"===e?"float32array":"[object Float64Array]"===e?"float64array":"object"}}),e.define("is-buffer",function(t,e,n,r){t.exports=function(t){return!(null==t||!(t._isBuffer||t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)))}}),e.define("is-object",function(t,e,n,r){"use strict";t.exports=function(t){return"object"==typeof t&&null!==t}}),e.define("./events",function(t,e,n,r){t.exports={}}),e.define("broken/lib",function(t,n,r,o){var i,u;i=e("zousan/zousan-min"),i.suppressUncaughtRejectionError=!0,u=function(){function t(t){this.state=t.state,this.value=t.value,this.reason=t.reason}return t.prototype.isFulfilled=function(){return"fulfilled"===this.state},t.prototype.isRejected=function(){return"rejected"===this.state},t}(),i.reflect=function(t){return new i(function(e,n){return t.then(function(t){return e(new u({state:"fulfilled",value:t}))})["catch"](function(t){return e(new u({state:"rejected",reason:t}))})})},i.settle=function(t){return i.all(t.map(i.reflect))},i.prototype.callback=function(t){return"function"==typeof t&&(this.then(function(e){return t(null,e)}),this["catch"](function(e){return t(e,null)})),this},t.exports=i}),e.define("zousan/zousan-min",function(e,n,r,o){!function(t){"use strict";function n(t){if(t){var e=this;t(function(t){e.resolve(t)},function(t){e.reject(t)})}}function r(t,e){if("function"==typeof t.y)try{var n=t.y.call(u,e);t.p.resolve(n)}catch(r){t.p.reject(r)}else t.p.resolve(e)}function o(t,e){if("function"==typeof t.n)try{var n=t.n.call(u,e);t.p.resolve(n)}catch(r){t.p.reject(r)}else t.p.reject(e)}var i,u,s="fulfilled",a="rejected",c="undefined",l=function(){function t(){for(;e.length-n;)e[n](),n++,n>1024&&(e.splice(0,n),n=0)}var e=[],n=0,r=function(){if(typeof MutationObserver!==c){var e=document.createElement("div"),n=new MutationObserver(t);return n.observe(e,{attributes:!0}),function(){e.setAttribute("a",0)}}return typeof setImmediate!==c?function(){setImmediate(t)}:function(){setTimeout(t,0)}}();return function(t){e.push(t),e.length-n==1&&r()}}();n.prototype={resolve:function(t){if(this.state===i){if(t===this)return this.reject(new TypeError("Attempt to resolve promise with self"));var e=this;if(t&&("function"==typeof t||"object"==typeof t))try{var n=!0,o=t.then;if("function"==typeof o)return void o.call(t,function(t){n&&(n=!1,e.resolve(t))},function(t){n&&(n=!1,e.reject(t))})}catch(u){return void(n&&this.reject(u))}this.state=s,this.v=t,e.c&&l(function(){for(var n=0,o=e.c.length;o>n;n++)r(e.c[n],t)})}},reject:function(t){if(this.state===i){this.state=a,this.v=t;var e=this.c;e?l(function(){for(var n=0,r=e.length;r>n;n++)o(e[n],t)}):n.suppressUncaughtRejectionError||console.log("You upset Zousan. Please catch rejections: ",t,t.stack)}},then:function(t,e){var u=new n,a={y:t,n:e,p:u};if(this.state===i)this.c?this.c.push(a):this.c=[a];else{var c=this.state,f=this.v;l(function(){c===s?r(a,f):o(a,f)})}return u},"catch":function(t){return this.then(null,t)},"finally":function(t){return this.then(t,t)},timeout:function(t,e){e=e||"Timeout";var r=this;return new n(function(n,o){setTimeout(function(){o(Error(e))},t),r.then(function(t){n(t)},function(t){o(t)})})}},n.resolve=function(t){var e=new n;return e.resolve(t),e},n.reject=function(t){var e=new n;return e.reject(t),e},n.all=function(t){function e(e,u){"function"!=typeof e.then&&(e=n.resolve(e)),e.then(function(e){r[u]=e,o++,o==t.length&&i.resolve(r)},function(t){i.reject(t)})}for(var r=[],o=0,i=new n,u=0;u<t.length;u++)e(t[u],u);return t.length||i.resolve(r),i},typeof e!=c&&e.exports&&(e.exports=n),t.Zousan=n,n.soon=l}("undefined"!=typeof t?t:this)}),e.define("./view/view",function(t,n,r,o){var i,u,s,a,c;u=e("is-function"),s=e("object-assign"),c=e("./utils"),a=c.shim.riot,i=function(){function t(){var e,n,r,o;for(n=Object.getPrototypeOf(this),e=n,r={};e!==t.prototype;)e=Object.getPrototypeOf(e),n.events=s({},e.events||{},n.events),s(r,e||{},n);s(n,r),o=this,this.init(),a.tag(this.tag,this.html,this.css,this.attrs,function(t){var e,n,r,i,s,a,l,f,p;a=Object.getPrototypeOf(t);for(r in t)p=t[r],null!=a[r]&&null==p&&(t[r]=a[r]);if(null!=o){l=Object.getPrototypeOf(o);for(r in l)p=l[r],u(p)?!function(t){return function(e){var n;return null!=t[r]?(n=t[r],t[r]=function(){return n.apply(t,arguments),e.apply(t,arguments)}):t[r]=function(){return e.apply(t,arguments)}}}(this)(p):this[r]=p}if(this.model=t.model||this.model,null==this.model&&(this.model={}),s=this.obs=t.obs,null==this.obs&&(s=this.obs={},c.shim.observable(s)),null!=o.events){f=o.events,e=function(t){return function(e,n){return s.on(e,function(){return n.apply(t,arguments)})}}(this);for(i in f)n=f[i],e(i,n)}return this.js?this.js(t):void 0})}return t.register=function(){return new this},t.prototype.tag="",t.prototype.html="",t.prototype.css="",t.prototype.attrs="",t.prototype.events=null,t.prototype.mixins=null,t.prototype.model=null,t.prototype.init=function(){},t.prototype.js=function(){},t}(),t.exports=i}),e.define("object-assign",function(t,e,n,r){"use strict";function o(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var i=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;t.exports=Object.assign||function(t,e){for(var n,r,s=o(t),a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var c in n)i.call(n,c)&&(s[c]=n[c]);if(Object.getOwnPropertySymbols){r=Object.getOwnPropertySymbols(n);for(var l=0;l<r.length;l++)u.call(n,r[l])&&(s[r[l]]=n[r[l]])}}return s}}),e.define("./index",function(t,n,r,o){t.exports={config:e("./config"),utils:e("./utils"),view:e("./view"),start:function(t){return this.utils.shim.riot.mount("*")},Events:e("./events")},"undefined"!=typeof window&&null!==window&&(window.crowdcontrol=t.exports)}),e("./index")}).call(this,this);